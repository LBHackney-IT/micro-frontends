<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/micro-frontends/blog/rss.xml" title="Hackney Micro Frontends Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/micro-frontends/blog/atom.xml" title="Hackney Micro Frontends Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Hackney Micro Frontends" href="/micro-frontends/opensearch.xml"><title data-react-helmet="true">Testing | Hackney Micro Frontends</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Testing | Hackney Micro Frontends"><meta data-react-helmet="true" name="description" content="Micro frontend quality gates"><meta data-react-helmet="true" property="og:description" content="Micro frontend quality gates"><meta data-react-helmet="true" property="og:url" content="https://github.com/LBHackney-IT/micro-frontends/micro-frontends/testing"><link data-react-helmet="true" rel="shortcut icon" href="/micro-frontends/img/favicon.png"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://github.com/LBHackney-IT/micro-frontends/micro-frontends/testing"><link rel="stylesheet" href="/micro-frontends/styles.cd915cb9.css">
<link rel="stylesheet" href="/micro-frontends/main.69c3b1fd.css">
<link rel="preload" href="/micro-frontends/styles.c9dcdc92.js" as="script">
<link rel="preload" href="/micro-frontends/runtime~main.9bf4fb2e.js" as="script">
<link rel="preload" href="/micro-frontends/main.464a9a0e.js" as="script">
<link rel="preload" href="/micro-frontends/1.dcf58f68.js" as="script">
<link rel="preload" href="/micro-frontends/2.956475a0.js" as="script">
<link rel="preload" href="/micro-frontends/19.e87f14e2.js" as="script">
<link rel="preload" href="/micro-frontends/22.4699c352.js" as="script">
<link rel="preload" href="/micro-frontends/935f2afb.ad622a08.js" as="script">
<link rel="preload" href="/micro-frontends/17896441.c4021271.js" as="script">
<link rel="preload" href="/micro-frontends/fbe93038.d5e97eba.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/micro-frontends/"><img src="/micro-frontends/img/logo-long.svg" alt="Micro Frontends" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/micro-frontends/img/logo-long.svg" alt="Micro Frontends" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Micro Frontends</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/LBHackney-IT/micro-frontends" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a class="navbar__item navbar__link" url="https://github.com/LBHackney-IT/micro-frontends/contact" href="/micro-frontends/contact">Contact Us</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/micro-frontends/"><img src="/micro-frontends/img/logo-long.svg" alt="Micro Frontends" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/micro-frontends/img/logo-long.svg" alt="Micro Frontends" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Micro Frontends</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/LBHackney-IT/micro-frontends" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" url="https://github.com/LBHackney-IT/micro-frontends/contact" href="/micro-frontends/contact">Contact Us</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Home</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/micro-frontends/">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1"></a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/micro-frontends/architecture">Architecture</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Why MicroFrontends (MFE)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/micro-frontends/benefits">Benefits of MFE and example usages</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Specifications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/micro-frontends/how_to_guides">How to consume HackIT&#x27;s MicroFrontend</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/micro-frontends/boilerplate">BoilerPlate</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/micro-frontends/testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/micro-frontends/source_code_management">Source Code Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/micro-frontends/deployment_and_architecture">Deployment and Architecture</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/micro-frontends/aws_services">AWS Services</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/micro-frontends/feature_toggles">Feature Toggles</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Testing</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="micro-frontend-quality-gates"></a>Micro frontend quality gates<a class="hash-link" href="#micro-frontend-quality-gates" title="Direct link to heading">#</a></h2><p>We use a recurring pipeline â€˜patternâ€™ to trigger the deployment and testing of the micro front ends.
Each independent micro front end targets a single repository that contains a suite of end-to-end tests.</p><p>Once a micro front end has been deployed to its first environment (development), it triggers the end-to-end tests which target the same environment that was deployed (this can be either the entire suite of tests or a subset as desired), once these tests have ran, then it will trigger the â€˜parentâ€™ mfe pipeline again.</p><p>If the tests fail then it will halt deployment and roll back the changes. If all tests pass then the parent pipeline will deploy to the next environment (staging) and the deployment and testing cycle continues until either a failure occurs or the application is deployed and tested in production.</p><p><img alt="MFE" src="/micro-frontends/assets/images/mfe1-245efe267c1935d07e216e53d62e130d.png"></p><p>On the mfe side, there is some boilerplate code within the CircleCI config.yml file that makes an API call to the e2e pipeline
<img alt="MFE" src="/micro-frontends/assets/images/mfe2-648ad8e4f682a2248a2239405a7dd86a.png"></p><p>Similarly, here is the response from the e2e tests if a successful workflow occurs
<img alt="MFE" src="/micro-frontends/assets/images/mfe3-6d306bef91c222406e3f7999e8ecd9af.png"></p><p>The notion of having a single repo that holds all of the system tests is to enable complete user journeys that span across multiple micro frontends. They are not designed to work in lieu of component and integration tests that each micro frontend should be providing, but rather offer coverage that compliments these tests, as well as extending them to providing actual â€˜real-worldâ€™ journeys that the end users would perform.</p><p>Itâ€™s important to note that a more â€˜robustâ€™ approach to this sort of test automation would be the ability to run the tests without any deployments being made to a physical environment. As it currently stands, the e2e tests are beholden to the state of the environments being actively maintained and so may result in situations whereby a mfe pipeline becomes blocked due to issues unrelated to the code changes made to the mfe if the target environment isnâ€™t in a fully working state. We acknowledge that creating an ephemeral environment for the entire MMH application would present a considerable challenge and consume a lot of development time however.</p><p><strong> Diagram of MMH MFE test flow </strong></p><p><img alt="MFE" src="/micro-frontends/assets/images/mfe4-47cf53aac0ecbf956530acca8c2052da.png"></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/LBHackney-IT/micro-frontends/edit/master/docs/testing.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/micro-frontends/boilerplate"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« BoilerPlate</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/micro-frontends/source_code_management"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Source Code Management Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#micro-frontend-quality-gates" class="table-of-contents__link">Micro frontend quality gates</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Made by HackIT.</div></div></div></footer></div>
<script src="/micro-frontends/styles.c9dcdc92.js"></script>
<script src="/micro-frontends/runtime~main.9bf4fb2e.js"></script>
<script src="/micro-frontends/main.464a9a0e.js"></script>
<script src="/micro-frontends/1.dcf58f68.js"></script>
<script src="/micro-frontends/2.956475a0.js"></script>
<script src="/micro-frontends/19.e87f14e2.js"></script>
<script src="/micro-frontends/22.4699c352.js"></script>
<script src="/micro-frontends/935f2afb.ad622a08.js"></script>
<script src="/micro-frontends/17896441.c4021271.js"></script>
<script src="/micro-frontends/fbe93038.d5e97eba.js"></script>
</body>
</html>